# éƒ¨ç½²åˆ°æœåŠ¡å™¨ - æ‰‹åŠ¨æ­¥éª¤

## ğŸ“‹ æ­¥éª¤æ¦‚è§ˆ

1. æäº¤ä»£ç åˆ° GitHub
2. é€šè¿‡ SSH è¿æ¥åˆ°æœåŠ¡å™¨
3. åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–æœ€æ–°ä»£ç 
4. æ‰§è¡Œå®Œæ•´æ›´æ–°è„šæœ¬

## ğŸš€ è¯¦ç»†æ­¥éª¤

### æ­¥éª¤1ï¼šæäº¤ä»£ç åˆ° GitHub

**åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•æ‰§è¡Œï¼š**

```powershell
# æ£€æŸ¥çŠ¶æ€
git status

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤æ›´æ”¹
git commit -m "chore: æ¸…ç†å¤šä½™çš„è„šæœ¬å’Œæ–‡æ¡£ï¼Œæ›´æ–°README.mdï¼Œæ·»åŠ Milvusé…ç½®è¯´æ˜"

# æ¨é€åˆ° GitHub
git push origin main
```

### æ­¥éª¤2ï¼šé€šè¿‡ SSH è¿æ¥åˆ°æœåŠ¡å™¨

**åœ¨ PowerShell æˆ– Git Bash ä¸­æ‰§è¡Œï¼š**

```bash
ssh ubuntu@119.45.121.152
```

### æ­¥éª¤3ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œæ›´æ–°

**è¿æ¥åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /var/www/aigc-agent

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ‰§è¡Œå®Œæ•´æ›´æ–°è„šæœ¬
bash å®Œæ•´æ›´æ–°æœåŠ¡å™¨.sh
```

**æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œæ›´æ–°æ­¥éª¤ï¼š**

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /var/www/aigc-agent

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 3. é‡å¯åç«¯æœåŠ¡
cd server
pm2 restart aigc-agent
cd ..

# 4. æ¸…ç†å¹¶é‡æ–°æ„å»ºå‰ç«¯
rm -rf dist node_modules/.vite
npm run build

# 5. è®¾ç½®æƒé™å¹¶é‡æ–°åŠ è½½ Nginx
sudo chown -R ubuntu:ubuntu dist/
sudo systemctl reload nginx

# 6. éªŒè¯æœåŠ¡çŠ¶æ€
pm2 status aigc-agent
curl http://localhost:3002/api/health
```

## âœ… éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥ PM2 æœåŠ¡
pm2 status aigc-agent

# æ£€æŸ¥å¥åº·ç«¯ç‚¹
curl http://localhost:3002/api/health
```

### è®¿é—®ç½‘ç«™

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttps://www.jubianai.cn

## ğŸ” å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜1ï¼šSSH è¿æ¥å¤±è´¥

**æ£€æŸ¥ SSH å¯†é’¥é…ç½®ï¼š**
```bash
ssh -o BatchMode=yes ubuntu@119.45.121.152 "echo 'test'"
```

å¦‚æœå¤±è´¥ï¼Œéœ€è¦é…ç½® SSH å¯†é’¥ã€‚

### é—®é¢˜2ï¼šGit æ‹‰å–å¤±è´¥

**æ£€æŸ¥ Git çŠ¶æ€ï¼š**
```bash
cd /var/www/aigc-agent
git status
git fetch origin
git pull origin main
```

### é—®é¢˜3ï¼šPM2 æœåŠ¡æœªè¿è¡Œ

**é‡å¯æœåŠ¡ï¼š**
```bash
cd /var/www/aigc-agent/server
pm2 restart aigc-agent
pm2 save
```

### é—®é¢˜4ï¼šå‰ç«¯æ„å»ºå¤±è´¥

**æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š**
```bash
node --version
npm --version
```

**é‡æ–°å®‰è£…ä¾èµ–ï¼š**
```bash
cd /var/www/aigc-agent
npm install
npm run build
```

## ğŸ“ å¿«é€Ÿå‘½ä»¤ï¼ˆä¸€é”®æ‰§è¡Œï¼‰

**åœ¨æœ¬åœ° PowerShell ä¸­æ‰§è¡Œï¼š**

```powershell
# æäº¤å¹¶æ¨é€ä»£ç 
git add . && git commit -m "chore: æ›´æ–°ä»£ç " && git push origin main

# é€šè¿‡ SSH éƒ¨ç½²ï¼ˆéœ€è¦æ‰‹åŠ¨è¾“å…¥å¯†ç æˆ–å·²é…ç½®å¯†é’¥ï¼‰
ssh ubuntu@119.45.121.152 "cd /var/www/aigc-agent && git pull origin main && bash å®Œæ•´æ›´æ–°æœåŠ¡å™¨.sh"
```

---

**åˆ›å»ºæ—¶é—´**ï¼š2026-01-03  
**æœ€åæ›´æ–°**ï¼š2026-01-03

