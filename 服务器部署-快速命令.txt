# 服务器部署快速命令

## 方法1: 使用部署脚本（推荐）

```bash
# 进入项目目录（根据实际路径选择）
cd /home/ubuntu/AIGC-jubianage-agent
# 或者
cd ~/AIGC-jubianage-agent
# 或者（需要sudo）
sudo su -
cd /root/AIGC-jubianage-agent

# 执行部署脚本
chmod +x 服务器部署-最新版本.sh
./服务器部署-最新版本.sh
```

## 方法2: 手动执行命令

```bash
# 1. 进入项目目录
cd /home/ubuntu/AIGC-jubianage-agent  # 或实际路径

# 2. 拉取最新代码
git pull origin main

# 3. 安装前端依赖并构建
cd src
npm install
npm run build
cd ..

# 4. 安装后端依赖
cd server
npm install
cd ..

# 5. 重启后端服务
pm2 restart AIGC-jubianage-agent || pm2 start server/index.js --name AIGC-jubianage-agent

# 6. 检查服务状态
pm2 status
pm2 logs AIGC-jubianage-agent --lines 50
```

## 本次更新内容

1. ✅ 移除FragmentDetail中间步骤，直接跳转到VideoReview
2. ✅ VideoReview自动加载并显示片段视频
3. ✅ 添加视频批注功能（API已创建）
4. ✅ 数据库表已在Supabase中创建完成

## 验证部署

1. 检查前端构建：`ls -la src/dist`
2. 检查后端服务：`pm2 logs AIGC-jubianage-agent --lines 50`
3. 检查数据库表：已在Supabase中完成，无需操作

